name: Mark stale issues and PRs

on:
  schedule:
    - cron: '0 0 * * *'  # Run daily at midnight UTC

jobs:
  stale:
    runs-on: ubuntu-latest
    
    permissions:
      issues: write
      pull-requests: write
    
    steps:
    - uses: actions/stale@v9
      with:
        repo-token: ${{ secrets.GITHUB_TOKEN }}
        
        # Issues
        stale-issue-message: |
          ðŸ‘‹ This issue has been automatically marked as stale because it has not had recent activity.
          
          It will be closed in 7 days if no further activity occurs.
          
          If this is still relevant, please comment to keep it open. Thank you!
        days-before-issue-stale: 60
        days-before-issue-close: 7
        stale-issue-label: 'stale'
        exempt-issue-labels: 'pinned,security,good first issue'
        
        # Pull Requests
        stale-pr-message: |
          ðŸ‘‹ This PR has been automatically marked as stale because it has not had recent activity.
          
          It will be closed in 14 days if no further activity occurs.
          
          If you're still working on this, please comment or push new commits. Thank you!
        days-before-pr-stale: 30
        days-before-pr-close: 14
        stale-pr-label: 'stale'
        exempt-pr-labels: 'pinned,security'
